<?php declare(strict_types=1);

namespace Kensho\TechnicalIndicators\Tests\Unit;

use Brick\Math\BigDecimal;
use Brick\Math\Exception\MathException;
use Brick\Math\RoundingMode;
use Kensho\TechnicalIndicators\DMm\DMm;
use PHPUnit\Framework\Attributes\CoversClass;
use PHPUnit\Framework\Attributes\DataProvider;
use PHPUnit\Framework\TestCase;

#[CoversClass(DMm::class)]
final class DMmTest extends TestCase
{
    /**
     * @param array<string, array<string, string>> $values
     * @param array<string, string>                $expected
     *
     * @throws MathException
     */
    #[DataProvider('provideData')]
    public function testCalculate(array $values, array $expected): void
    {
        $actual = [];

        foreach ($values as $date => [
            'moveDown' => $moveDown,
            'moveUp'   => $moveUp,
        ]) {
            $actual[$date] = DMm::calculate(
                BigDecimal::of($moveDown),
                BigDecimal::of($moveUp),
            )->toScale(
                4,
                RoundingMode::HALF_UP,
            )->__toString();
        }
        $this->assertSame($expected, $actual);
    }

    /**
     * @return array<string, array<string, array<string, array<string, string>|string>>>
     */
    public static function provideData(): array
    {
        return [
            'ACME' => [
                'values'   => [
                    '2023-01-25' => [
                        'moveDown' =>  '0.0000',
                        'moveUp'   =>  '0.0000',
                    ],
                    '2023-01-26' => [
                        'moveDown' => '-3.0900',
                        'moveUp'   =>  '1.8200',
                    ],
                    '2023-01-27' => [
                        'moveDown' => '-1.1800',
                        'moveUp'   =>  '2.9800',
                    ],
                    '2023-01-30' => [
                        'moveDown' =>  '0.2300',
                        'moveUp'   => '-1.6800',
                    ],
                    '2023-01-31' => [
                        'moveDown' =>  '0.5700',
                        'moveUp'   => '-1.2100',
                    ],
                    '2023-02-01' => [
                        'moveDown' =>  '0.9600',
                        'moveUp'   =>  '2.2700',
                    ],
                    '2023-02-02' => [
                        'moveDown' => '-6.8500',
                        'moveUp'   =>  '4.5700',
                    ],
                    '2023-02-03' => [
                        'moveDown' =>  '0.3400',
                        'moveUp'   =>  '6.2000',
                    ],
                    '2023-02-06' => [
                        'moveDown' => '-2.9500',
                        'moveUp'   => '-4.2800',
                    ],
                    '2023-02-07' => [
                        'moveDown' =>  '0.1400',
                        'moveUp'   =>  '2.1300',
                    ],
                    '2023-02-08' => [
                        'moveDown' => '-0.5280',
                        'moveUp'   => '-0.6500',
                    ],
                    '2023-02-09' => [
                        'moveDown' =>  '0.7480',
                        'moveUp'   => '-0.2500',
                    ],
                    '2023-02-10' => [
                        'moveDown' =>  '1.2000',
                        'moveUp'   => '-2.9899',
                    ],
                    '2023-02-13' => [
                        'moveDown' => '-1.7000',
                        'moveUp'   =>  '2.9199',
                    ],
                    '2023-02-14' => [
                        'moveDown' =>  '0.0600',
                        'moveUp'   => '-0.4900',
                    ],
                    '2023-02-15' => [
                        'moveDown' => '-2.0200',
                        'moveUp'   =>  '1.7300',
                    ],
                    '2023-02-16' => [
                        'moveDown' => '-0.4675',
                        'moveUp'   =>  '0.8300',
                    ],
                    '2023-02-17' => [
                        'moveDown' =>  '2.4975',
                        'moveUp'   => '-3.3300',
                    ],
                    '2023-02-21' => [
                        'moveDown' =>  '2.4450',
                        'moveUp'   => '-1.7000',
                    ],
                    '2023-02-22' => [
                        'moveDown' =>  '1.2450',
                        'moveUp'   => '-1.3500',
                    ],
                    '2023-02-23' => [
                        'moveDown' => '-0.0800',
                        'moveUp'   =>  '0.3900',
                    ],
                    '2023-02-24' => [
                        'moveDown' =>  '1.5198',
                        'moveUp'   => '-3.1500',
                    ],
                    '2023-02-27' => [
                        'moveDown' => '-1.7298',
                        'moveUp'   =>  '1.9800',
                    ],
                    '2023-02-28' => [
                        'moveDown' =>  '0.6200',
                        'moveUp'   => '-0.0900',
                    ],
                    '2023-03-01' => [
                        'moveDown' =>  '1.8200',
                        'moveUp'   => '-1.8515',
                    ],
                    '2023-03-02' => [
                        'moveDown' =>  '1.1100',
                        'moveUp'   => '-0.5185',
                    ],
                    '2023-03-03' => [
                        'moveDown' => '-3.4300',
                        'moveUp'   =>  '4.4000',
                    ],
                    '2023-03-06' => [
                        'moveDown' => '-6.1300',
                        'moveUp'   =>  '5.1900',
                    ],
                    '2023-03-07' => [
                        'moveDown' =>  '2.3300',
                        'moveUp'   => '-2.2701',
                    ],
                    '2023-03-08' => [
                        'moveDown' => '-0.7000',
                        'moveUp'   => '-0.5599',
                    ],
                    '2023-03-09' => [
                        'moveDown' =>  '1.6050',
                        'moveUp'   =>  '1.0650',
                    ],
                    '2023-03-10' => [
                        'moveDown' =>  '2.6154',
                        'moveUp'   => '-3.5950',
                    ],
                    '2023-03-13' => [
                        'moveDown' => '-0.0904',
                        'moveUp'   =>  '2.2000',
                    ],
                    '2023-03-14' => [
                        'moveDown' => '-2.4000',
                        'moveUp'   =>  '0.2600',
                    ],
                    '2023-03-15' => [
                        'moveDown' =>  '0.1800',
                        'moveUp'   => '-0.1550',
                    ],
                    '2023-03-16' => [
                        'moveDown' => '-1.7200',
                        'moveUp'   =>  '3.2150',
                    ],
                    '2023-03-17' => [
                        'moveDown' => '-2.6400',
                        'moveUp'   =>  '0.2800',
                    ],
                    '2023-03-20' => [
                        'moveDown' =>  '0.1300',
                        'moveUp'   =>  '1.0800',
                    ],
                    '2023-03-21' => [
                        'moveDown' => '-2.3900',
                        'moveUp'   =>  '1.5800',
                    ],
                    '2023-03-22' => [
                        'moveDown' => '-1.2700',
                        'moveUp'   =>  '2.7400',
                    ],
                    '2023-03-23' => [
                        'moveDown' =>  '0.1300',
                        'moveUp'   => '-0.5899',
                    ],
                    '2023-03-24' => [
                        'moveDown' => '-0.1700',
                        'moveUp'   => '-1.2101',
                    ],
                    '2023-03-27' => [
                        'moveDown' => '-0.0200',
                        'moveUp'   =>  '0.4300',
                    ],
                    '2023-03-28' => [
                        'moveDown' =>  '1.8900',
                        'moveUp'   => '-2.2800',
                    ],
                    '2023-03-29' => [
                        'moveDown' => '-3.3700',
                        'moveUp'   =>  '2.5600',
                    ],
                    '2023-03-30' => [
                        'moveDown' => '-1.9210',
                        'moveUp'   =>  '1.4200',
                    ],
                    '2023-03-31' => [
                        'moveDown' => '-0.6390',
                        'moveUp'   =>  '2.5300',
                    ],
                    '2023-04-03' => [
                        'moveDown' => '-2.3100',
                        'moveUp'   =>  '1.2900',
                    ],
                    '2023-04-04' => [
                        'moveDown' => '-0.8900',
                        'moveUp'   =>  '0.5500',
                    ],
                    '2023-04-05' => [
                        'moveDown' =>  '3.3100',
                        'moveUp'   => '-1.7900',
                    ],
                    '2023-04-06' => [
                        'moveDown' => '-0.2000',
                        'moveUp'   => '-0.0916',
                    ],
                    '2023-04-10' => [
                        'moveDown' =>  '1.9200',
                        'moveUp'   => '-2.9284',
                    ],
                    '2023-04-11' => [
                        'moveDown' => '-0.4300',
                        'moveUp'   =>  '0.3300',
                    ],
                    '2023-04-12' => [
                        'moveDown' =>  '0.7300',
                        'moveUp'   => '-0.3000',
                    ],
                    '2023-04-13' => [
                        'moveDown' => '-1.6400',
                        'moveUp'   =>  '3.7400',
                    ],
                    '2023-04-14' => [
                        'moveDown' => '-2.4000',
                        'moveUp'   =>  '0.5200',
                    ],
                    '2023-04-17' => [
                        'moveDown' => '-0.2100',
                        'moveUp'   => '-0.9300',
                    ],
                    '2023-04-18' => [
                        'moveDown' => '-1.6200',
                        'moveUp'   =>  '2.0200',
                    ],
                    '2023-04-19' => [
                        'moveDown' =>  '0.1100',
                        'moveUp'   =>  '0.7500',
                    ],
                    '2023-04-20' => [
                        'moveDown' => '-0.0200',
                        'moveUp'   => '-0.2900',
                    ],
                    '2023-04-21' => [
                        'moveDown' =>  '1.0700',
                        'moveUp'   => '-1.4179',
                    ],
                    '2023-04-24' => [
                        'moveDown' =>  '0.6000',
                        'moveUp'   => '-0.8521',
                    ],
                    '2023-04-25' => [
                        'moveDown' =>  '0.1600',
                        'moveUp'   =>  '0.7050',
                    ],
                    '2023-04-26' => [
                        'moveDown' =>  '0.9300',
                        'moveUp'   => '-1.0250',
                    ],
                    '2023-04-27' => [
                        'moveDown' => '-2.3900',
                        'moveUp'   =>  '3.2800',
                    ],
                    '2023-04-28' => [
                        'moveDown' => '-2.6901',
                        'moveUp'   =>  '1.2900',
                    ],
                    '2023-05-01' => [
                        'moveDown' => '-0.7599',
                        'moveUp'   =>  '0.6000',
                    ],
                    '2023-05-02' => [
                        'moveDown' =>  '1.1000',
                        'moveUp'   => '-0.1000',
                    ],
                    '2023-05-03' => [
                        'moveDown' =>  '0.3800',
                        'moveUp'   =>  '0.5700',
                    ],
                    '2023-05-04' => [
                        'moveDown' =>  '2.8500',
                        'moveUp'   => '-3.8800',
                    ],
                    '2023-05-05' => [
                        'moveDown' => '-6.4500',
                        'moveUp'   =>  '7.2600',
                    ],
                    '2023-05-08' => [
                        'moveDown' => '-1.3500',
                        'moveUp'   => '-0.4500',
                    ],
                    '2023-05-09' => [
                        'moveDown' =>  '0.5100',
                        'moveUp'   => '-0.3100',
                    ],
                    '2023-05-10' => [
                        'moveDown' => '-0.3000',
                        'moveUp'   =>  '0.4900',
                    ],
                    '2023-05-11' => [
                        'moveDown' => '-0.2700',
                        'moveUp'   =>  '0.5600',
                    ],
                    '2023-05-12' => [
                        'moveDown' =>  '1.1700',
                        'moveUp'   => '-0.5300',
                    ],
                    '2023-05-15' => [
                        'moveDown' => '-0.4700',
                        'moveUp'   => '-0.8500',
                    ],
                    '2023-05-16' => [
                        'moveDown' => '-0.3291',
                        'moveUp'   => '-0.0717',
                    ],
                    '2023-05-17' => [
                        'moveDown' =>  '1.3790',
                        'moveUp'   => '-0.2133',
                    ],
                    '2023-05-18' => [
                        'moveDown' => '-2.1599',
                        'moveUp'   =>  '2.3150',
                    ],
                    '2023-05-19' => [
                        'moveDown' => '-2.3600',
                        'moveUp'   =>  '1.1500',
                    ],
                    '2023-05-22' => [
                        'moveDown' =>  '1.4900',
                        'moveUp'   => '-1.6800',
                    ],
                    '2023-05-23' => [
                        'moveDown' =>  '2.1750',
                        'moveUp'   => '-1.3306',
                    ],
                    '2023-05-24' => [
                        'moveDown' =>  '0.7550',
                        'moveUp'   => '-0.9611',
                    ],
                    '2023-05-25' => [
                        'moveDown' => '-1.1700',
                        'moveUp'   =>  '1.4767',
                    ],
                    '2023-05-26' => [
                        'moveDown' => '-1.4200',
                        'moveUp'   =>  '1.8750',
                    ],
                    '2023-05-30' => [
                        'moveDown' => '-3.4600',
                        'moveUp'   =>  '3.2200',
                    ],
                    '2023-05-31' => [
                        'moveDown' => '-0.1900',
                        'moveUp'   =>  '0.3600',
                    ],
                    '2023-06-01' => [
                        'moveDown' => '-0.1706',
                        'moveUp'   =>  '0.7700',
                    ],
                    '2023-06-02' => [
                        'moveDown' => '-2.3294',
                        'moveUp'   =>  '1.6600',
                    ],
                    '2023-06-05' => [
                        'moveDown' =>  '1.2250',
                        'moveUp'   =>  '3.1710',
                    ],
                    '2023-06-06' => [
                        'moveDown' =>  '0.6050',
                        'moveUp'   => '-4.8310',
                    ],
                    '2023-06-07' => [
                        'moveDown' =>  '0.1100',
                        'moveUp'   =>  '1.0900',
                    ],
                    '2023-06-08' => [
                        'moveDown' => '-0.1400',
                        'moveUp'   => '-0.3700',
                    ],
                    '2023-06-09' => [
                        'moveDown' => '-3.1700',
                        'moveUp'   =>  '1.3900',
                    ],
                    '2023-06-12' => [
                        'moveDown' => '-0.3400',
                        'moveUp'   =>  '1.6600',
                    ],
                    '2023-06-13' => [
                        'moveDown' => '-1.4700',
                        'moveUp'   =>  '0.2600',
                    ],
                    '2023-06-14' => [
                        'moveDown' =>  '0.4200',
                        'moveUp'   =>  '0.2400',
                    ],
                    '2023-06-15' => [
                        'moveDown' => '-1.7600',
                        'moveUp'   =>  '2.1300',
                    ],
                    '2023-06-16' => [
                        'moveDown' => '-0.4900',
                        'moveUp'   =>  '0.4700',
                    ],
                ],
                'expected' => [
                    '2023-01-25' => '0.0000',
                    '2023-01-26' => '0.0000',
                    '2023-01-27' => '0.0000',
                    '2023-01-30' => '0.2300',
                    '2023-01-31' => '0.5700',
                    '2023-02-01' => '0.0000',
                    '2023-02-02' => '0.0000',
                    '2023-02-03' => '0.0000',
                    '2023-02-06' => '0.0000',
                    '2023-02-07' => '0.0000',
                    '2023-02-08' => '0.0000',
                    '2023-02-09' => '0.7480',
                    '2023-02-10' => '1.2000',
                    '2023-02-13' => '0.0000',
                    '2023-02-14' => '0.0600',
                    '2023-02-15' => '0.0000',
                    '2023-02-16' => '0.0000',
                    '2023-02-17' => '2.4975',
                    '2023-02-21' => '2.4450',
                    '2023-02-22' => '1.2450',
                    '2023-02-23' => '0.0000',
                    '2023-02-24' => '1.5198',
                    '2023-02-27' => '0.0000',
                    '2023-02-28' => '0.6200',
                    '2023-03-01' => '1.8200',
                    '2023-03-02' => '1.1100',
                    '2023-03-03' => '0.0000',
                    '2023-03-06' => '0.0000',
                    '2023-03-07' => '2.3300',
                    '2023-03-08' => '0.0000',
                    '2023-03-09' => '1.6050',
                    '2023-03-10' => '2.6154',
                    '2023-03-13' => '0.0000',
                    '2023-03-14' => '0.0000',
                    '2023-03-15' => '0.1800',
                    '2023-03-16' => '0.0000',
                    '2023-03-17' => '0.0000',
                    '2023-03-20' => '0.0000',
                    '2023-03-21' => '0.0000',
                    '2023-03-22' => '0.0000',
                    '2023-03-23' => '0.1300',
                    '2023-03-24' => '0.0000',
                    '2023-03-27' => '0.0000',
                    '2023-03-28' => '1.8900',
                    '2023-03-29' => '0.0000',
                    '2023-03-30' => '0.0000',
                    '2023-03-31' => '0.0000',
                    '2023-04-03' => '0.0000',
                    '2023-04-04' => '0.0000',
                    '2023-04-05' => '3.3100',
                    '2023-04-06' => '0.0000',
                    '2023-04-10' => '1.9200',
                    '2023-04-11' => '0.0000',
                    '2023-04-12' => '0.7300',
                    '2023-04-13' => '0.0000',
                    '2023-04-14' => '0.0000',
                    '2023-04-17' => '0.0000',
                    '2023-04-18' => '0.0000',
                    '2023-04-19' => '0.0000',
                    '2023-04-20' => '0.0000',
                    '2023-04-21' => '1.0700',
                    '2023-04-24' => '0.6000',
                    '2023-04-25' => '0.0000',
                    '2023-04-26' => '0.9300',
                    '2023-04-27' => '0.0000',
                    '2023-04-28' => '0.0000',
                    '2023-05-01' => '0.0000',
                    '2023-05-02' => '1.1000',
                    '2023-05-03' => '0.0000',
                    '2023-05-04' => '2.8500',
                    '2023-05-05' => '0.0000',
                    '2023-05-08' => '0.0000',
                    '2023-05-09' => '0.5100',
                    '2023-05-10' => '0.0000',
                    '2023-05-11' => '0.0000',
                    '2023-05-12' => '1.1700',
                    '2023-05-15' => '0.0000',
                    '2023-05-16' => '0.0000',
                    '2023-05-17' => '1.3790',
                    '2023-05-18' => '0.0000',
                    '2023-05-19' => '0.0000',
                    '2023-05-22' => '1.4900',
                    '2023-05-23' => '2.1750',
                    '2023-05-24' => '0.7550',
                    '2023-05-25' => '0.0000',
                    '2023-05-26' => '0.0000',
                    '2023-05-30' => '0.0000',
                    '2023-05-31' => '0.0000',
                    '2023-06-01' => '0.0000',
                    '2023-06-02' => '0.0000',
                    '2023-06-05' => '0.0000',
                    '2023-06-06' => '0.6050',
                    '2023-06-07' => '0.0000',
                    '2023-06-08' => '0.0000',
                    '2023-06-09' => '0.0000',
                    '2023-06-12' => '0.0000',
                    '2023-06-13' => '0.0000',
                    '2023-06-14' => '0.4200',
                    '2023-06-15' => '0.0000',
                    '2023-06-16' => '0.0000',
                ],
            ],
            'AJAX' => [
                'values'   => [
                    '2023-01-25' => [
                        'moveDown' =>  '0.0000',
                        'moveUp'   =>  '0.0000',
                    ],
                    '2023-01-26' => [
                        'moveDown' =>  '1.2950',
                        'moveUp'   => '-0.8000',
                    ],
                    '2023-01-27' => [
                        'moveDown' => '-0.6273',
                        'moveUp'   =>  '0.0500',
                    ],
                    '2023-01-30' => [
                        'moveDown' =>  '1.4573',
                        'moveUp'   => '-0.9200',
                    ],
                    '2023-01-31' => [
                        'moveDown' =>  '1.4500',
                        'moveUp'   =>  '1.7100',
                    ],
                    '2023-02-01' => [
                        'moveDown' => '-1.2300',
                        'moveUp'   => '-0.2550',
                    ],
                    '2023-02-02' => [
                        'moveDown' => '-2.5500',
                        'moveUp'   =>  '0.4950',
                    ],
                    '2023-02-03' => [
                        'moveDown' => '-0.0300',
                        'moveUp'   =>  '0.2500',
                    ],
                    '2023-02-06' => [
                        'moveDown' =>  '2.6000',
                        'moveUp'   => '-2.6600',
                    ],
                    '2023-02-07' => [
                        'moveDown' =>  '0.3900',
                        'moveUp'   => '-0.4200',
                    ],
                    '2023-02-08' => [
                        'moveDown' => '-1.3300',
                        'moveUp'   =>  '0.2100',
                    ],
                    '2023-02-09' => [
                        'moveDown' => '-0.2600',
                        'moveUp'   =>  '1.8400',
                    ],
                    '2023-02-10' => [
                        'moveDown' =>  '0.4600',
                        'moveUp'   => '-1.8700',
                    ],
                    '2023-02-13' => [
                        'moveDown' => '-1.2000',
                        'moveUp'   =>  '1.3800',
                    ],
                    '2023-02-14' => [
                        'moveDown' => '-1.2000',
                        'moveUp'   =>  '0.7000',
                    ],
                    '2023-02-15' => [
                        'moveDown' =>  '0.2800',
                        'moveUp'   =>  '3.2600',
                    ],
                    '2023-02-16' => [
                        'moveDown' =>  '0.7700',
                        'moveUp'   => '-0.9850',
                    ],
                    '2023-02-17' => [
                        'moveDown' =>  '4.0200',
                        'moveUp'   => '-6.3950',
                    ],
                    '2023-02-21' => [
                        'moveDown' => '-0.0900',
                        'moveUp'   =>  '1.6450',
                    ],
                    '2023-02-22' => [
                        'moveDown' =>  '3.2400',
                        'moveUp'   => '-3.4150',
                    ],
                    '2023-02-23' => [
                        'moveDown' =>  '3.3000',
                        'moveUp'   => '-2.9100',
                    ],
                    '2023-02-24' => [
                        'moveDown' =>  '1.8600',
                        'moveUp'   => '-1.7050',
                    ],
                    '2023-02-27' => [
                        'moveDown' => '-0.9800',
                        'moveUp'   =>  '0.2350',
                    ],
                    '2023-02-28' => [
                        'moveDown' =>  '0.9500',
                        'moveUp'   => '-3.2950',
                    ],
                    '2023-03-01' => [
                        'moveDown' =>  '2.5300',
                        'moveUp'   => '-0.2850',
                    ],
                    '2023-03-02' => [
                        'moveDown' =>  '1.0800',
                        'moveUp'   => '-2.1600',
                    ],
                    '2023-03-03' => [
                        'moveDown' => '-3.0050',
                        'moveUp'   =>  '3.4100',
                    ],
                    '2023-03-06' => [
                        'moveDown' => '-1.8150',
                        'moveUp'   =>  '0.5100',
                    ],
                    '2023-03-07' => [
                        'moveDown' =>  '1.2400',
                        'moveUp'   => '-0.4700',
                    ],
                    '2023-03-08' => [
                        'moveDown' =>  '1.1100',
                        'moveUp'   => '-2.6400',
                    ],
                    '2023-03-09' => [
                        'moveDown' =>  '0.7400',
                        'moveUp'   =>  '1.0200',
                    ],
                    '2023-03-10' => [
                        'moveDown' =>  '0.9200',
                        'moveUp'   => '-0.7100',
                    ],
                    '2023-03-13' => [
                        'moveDown' =>  '1.6600',
                        'moveUp'   =>  '1.7250',
                    ],
                    '2023-03-14' => [
                        'moveDown' => '-4.9700',
                        'moveUp'   =>  '1.2450',
                    ],
                    '2023-03-15' => [
                        'moveDown' =>  '1.2800',
                        'moveUp'   => '-1.9200',
                    ],
                    '2023-03-16' => [
                        'moveDown' => '-0.9000',
                        'moveUp'   =>  '1.9150',
                    ],
                    '2023-03-17' => [
                        'moveDown' => '-0.3400',
                        'moveUp'   => '-0.1850',
                    ],
                    '2023-03-20' => [
                        'moveDown' => '1.0200',
                        'moveUp'   => '0.0300',
                    ],
                    '2023-03-21' => [
                        'moveDown' => '-3.5000',
                        'moveUp'   =>  '2.4500',
                    ],
                    '2023-03-22' => [
                        'moveDown' => '-1.2500',
                        'moveUp'   =>  '2.1450',
                    ],
                    '2023-03-23' => [
                        'moveDown' =>  '5.2500',
                        'moveUp'   => '-1.0150',
                    ],
                    '2023-03-24' => [
                        'moveDown' =>  '0.7700',
                        'moveUp'   => '-6.5100',
                    ],
                    '2023-03-27' => [
                        'moveDown' =>  '7.2500',
                        'moveUp'   => '-1.3000',
                    ],
                    '2023-03-28' => [
                        'moveDown' => '-2.2100',
                        'moveUp'   => '-2.7201',
                    ],
                    '2023-03-29' => [
                        'moveDown' => '-0.4000',
                        'moveUp'   => '-0.2099',
                    ],
                    '2023-03-30' => [
                        'moveDown' =>  '1.3300',
                        'moveUp'   => '-1.3750',
                    ],
                    '2023-03-31' => [
                        'moveDown' => '-0.4600',
                        'moveUp'   =>  '1.2650',
                    ],
                    '2023-04-03' => [
                        'moveDown' => '-2.4300',
                        'moveUp'   =>  '4.6600',
                    ],
                    '2023-04-04' => [
                        'moveDown' => '-0.9500',
                        'moveUp'   =>  '1.0400',
                    ],
                    '2023-04-05' => [
                        'moveDown' => '-0.0400',
                        'moveUp'   => '-3.6600',
                    ],
                    '2023-04-06' => [
                        'moveDown' => '-0.0700',
                        'moveUp'   =>  '1.8343',
                    ],
                    '2023-04-10' => [
                        'moveDown' => '-0.7500',
                        'moveUp'   => '-0.4143',
                    ],
                    '2023-04-11' => [
                        'moveDown' =>  '0.4192',
                        'moveUp'   => '-0.8000',
                    ],
                    '2023-04-12' => [
                        'moveDown' => '-0.2192',
                        'moveUp'   =>  '0.7800',
                    ],
                    '2023-04-13' => [
                        'moveDown' =>  '0.1700',
                        'moveUp'   =>  '1.2900',
                    ],
                    '2023-04-14' => [
                        'moveDown' => '-2.5500',
                        'moveUp'   =>  '1.7400',
                    ],
                    '2023-04-17' => [
                        'moveDown' =>  '4.1200',
                        'moveUp'   => '-2.4250',
                    ],
                    '2023-04-18' => [
                        'moveDown' =>  '1.5800',
                        'moveUp'   => '-4.0950',
                    ],
                    '2023-04-19' => [
                        'moveDown' =>  '1.9700',
                        'moveUp'   => '-1.9201',
                    ],
                    '2023-04-20' => [
                        'moveDown' =>  '0.0800',
                        'moveUp'   => '-0.4968',
                    ],
                    '2023-04-21' => [
                        'moveDown' =>  '2.5590',
                        'moveUp'   => '-2.1931',
                    ],
                    '2023-04-24' => [
                        'moveDown' =>  '6.3010',
                        'moveUp'   => '-2.9900',
                    ],
                    '2023-04-25' => [
                        'moveDown' => '-2.4700',
                        'moveUp'   => '-0.9000',
                    ],
                    '2023-04-26' => [
                        'moveDown' =>  '4.0200',
                        'moveUp'   => '-2.3000',
                    ],
                    '2023-04-27' => [
                        'moveDown' =>  '0.5500',
                        'moveUp'   => '-2.3200',
                    ],
                    '2023-04-28' => [
                        'moveDown' => '-0.3800',
                        'moveUp'   =>  '3.0200',
                    ],
                    '2023-05-01' => [
                        'moveDown' => '-1.6500',
                        'moveUp'   => '-1.5700',
                    ],
                    '2023-05-02' => [
                        'moveDown' =>  '1.1400',
                        'moveUp'   => '-0.0250',
                    ],
                    '2023-05-03' => [
                        'moveDown' =>  '1.3600',
                        'moveUp'   => '-2.1150',
                    ],
                    '2023-05-04' => [
                        'moveDown' =>  '1.4200',
                        'moveUp'   => '-0.2450',
                    ],
                    '2023-05-05' => [
                        'moveDown' =>  '0.9000',
                        'moveUp'   => '-1.3651',
                    ],
                    '2023-05-08' => [
                        'moveDown' => '-1.0000',
                        'moveUp'   =>  '3.4401',
                    ],
                    '2023-05-09' => [
                        'moveDown' =>  '5.6600',
                        'moveUp'   => '-6.8400',
                    ],
                    '2023-05-10' => [
                        'moveDown' =>  '0.6700',
                        'moveUp'   => '-1.4900',
                    ],
                    '2023-05-11' => [
                        'moveDown' =>  '1.2300',
                        'moveUp'   => '-1.8300',
                    ],
                    '2023-05-12' => [
                        'moveDown' => '-2.5200',
                        'moveUp'   =>  '3.1800',
                    ],
                    '2023-05-15' => [
                        'moveDown' => '-1.4100',
                        'moveUp'   =>  '2.2260',
                    ],
                    '2023-05-16' => [
                        'moveDown' => '-1.0700',
                        'moveUp'   => '-0.9457',
                    ],
                    '2023-05-17' => [
                        'moveDown' => '-0.0700',
                        'moveUp'   =>  '1.0997',
                    ],
                    '2023-05-18' => [
                        'moveDown' =>  '1.2000',
                        'moveUp'   => '-2.8200',
                    ],
                    '2023-05-19' => [
                        'moveDown' => '-0.9700',
                        'moveUp'   =>  '1.7999',
                    ],
                    '2023-05-22' => [
                        'moveDown' => '-1.1800',
                        'moveUp'   =>  '1.4801',
                    ],
                    '2023-05-23' => [
                        'moveDown' => '-1.1800',
                        'moveUp'   => '10.1250',
                    ],
                    '2023-05-24' => [
                        'moveDown' => '-3.0300',
                        'moveUp'   => '-1.8250',
                    ],
                    '2023-05-25' => [
                        'moveDown' =>  '2.1000',
                        'moveUp'   => '-5.0400',
                    ],
                    '2023-05-26' => [
                        'moveDown' =>  '3.6200',
                        'moveUp'   => '-2.7600',
                    ],
                    '2023-05-30' => [
                        'moveDown' =>  '1.5400',
                        'moveUp'   => '-3.9600',
                    ],
                    '2023-05-31' => [
                        'moveDown' => '-0.7900',
                        'moveUp'   =>  '0.6800',
                    ],
                    '2023-06-01' => [
                        'moveDown' =>  '0.5800',
                        'moveUp'   => '-1.0500',
                    ],
                    '2023-06-02' => [
                        'moveDown' => '-3.2700',
                        'moveUp'   =>  '4.5600',
                    ],
                    '2023-06-05' => [
                        'moveDown' => '-0.6800',
                        'moveUp'   => '-0.6800',
                    ],
                    '2023-06-06' => [
                        'moveDown' => '-0.0400',
                        'moveUp'   =>  '1.5400',
                    ],
                    '2023-06-07' => [
                        'moveDown' => '-2.1500',
                        'moveUp'   =>  '0.2799',
                    ],
                    '2023-06-08' => [
                        'moveDown' =>  '0.9400',
                        'moveUp'   => '-0.7499',
                    ],
                    '2023-06-09' => [
                        'moveDown' => '-0.1450',
                        'moveUp'   =>  '0.7600',
                    ],
                    '2023-06-12' => [
                        'moveDown' =>  '0.0950',
                        'moveUp'   => '-0.1100',
                    ],
                    '2023-06-13' => [
                        'moveDown' => '-1.2400',
                        'moveUp'   =>  '5.7146',
                    ],
                    '2023-06-14' => [
                        'moveDown' => '-1.1600',
                        'moveUp'   => '-0.6946',
                    ],
                    '2023-06-15' => [
                        'moveDown' =>  '0.4000',
                        'moveUp'   => '-1.9200',
                    ],
                    '2023-06-16' => [
                        'moveDown' => '-1.8900',
                        'moveUp'   =>  '2.4900',
                    ],
                ],
                'expected' => [
                    '2023-01-25' => '0.0000',
                    '2023-01-26' => '1.2950',
                    '2023-01-27' => '0.0000',
                    '2023-01-30' => '1.4573',
                    '2023-01-31' => '0.0000',
                    '2023-02-01' => '0.0000',
                    '2023-02-02' => '0.0000',
                    '2023-02-03' => '0.0000',
                    '2023-02-06' => '2.6000',
                    '2023-02-07' => '0.3900',
                    '2023-02-08' => '0.0000',
                    '2023-02-09' => '0.0000',
                    '2023-02-10' => '0.4600',
                    '2023-02-13' => '0.0000',
                    '2023-02-14' => '0.0000',
                    '2023-02-15' => '0.0000',
                    '2023-02-16' => '0.7700',
                    '2023-02-17' => '4.0200',
                    '2023-02-21' => '0.0000',
                    '2023-02-22' => '3.2400',
                    '2023-02-23' => '3.3000',
                    '2023-02-24' => '1.8600',
                    '2023-02-27' => '0.0000',
                    '2023-02-28' => '0.9500',
                    '2023-03-01' => '2.5300',
                    '2023-03-02' => '1.0800',
                    '2023-03-03' => '0.0000',
                    '2023-03-06' => '0.0000',
                    '2023-03-07' => '1.2400',
                    '2023-03-08' => '1.1100',
                    '2023-03-09' => '0.0000',
                    '2023-03-10' => '0.9200',
                    '2023-03-13' => '0.0000',
                    '2023-03-14' => '0.0000',
                    '2023-03-15' => '1.2800',
                    '2023-03-16' => '0.0000',
                    '2023-03-17' => '0.0000',
                    '2023-03-20' => '1.0200',
                    '2023-03-21' => '0.0000',
                    '2023-03-22' => '0.0000',
                    '2023-03-23' => '5.2500',
                    '2023-03-24' => '0.7700',
                    '2023-03-27' => '7.2500',
                    '2023-03-28' => '0.0000',
                    '2023-03-29' => '0.0000',
                    '2023-03-30' => '1.3300',
                    '2023-03-31' => '0.0000',
                    '2023-04-03' => '0.0000',
                    '2023-04-04' => '0.0000',
                    '2023-04-05' => '0.0000',
                    '2023-04-06' => '0.0000',
                    '2023-04-10' => '0.0000',
                    '2023-04-11' => '0.4192',
                    '2023-04-12' => '0.0000',
                    '2023-04-13' => '0.0000',
                    '2023-04-14' => '0.0000',
                    '2023-04-17' => '4.1200',
                    '2023-04-18' => '1.5800',
                    '2023-04-19' => '1.9700',
                    '2023-04-20' => '0.0800',
                    '2023-04-21' => '2.5590',
                    '2023-04-24' => '6.3010',
                    '2023-04-25' => '0.0000',
                    '2023-04-26' => '4.0200',
                    '2023-04-27' => '0.5500',
                    '2023-04-28' => '0.0000',
                    '2023-05-01' => '0.0000',
                    '2023-05-02' => '1.1400',
                    '2023-05-03' => '1.3600',
                    '2023-05-04' => '1.4200',
                    '2023-05-05' => '0.9000',
                    '2023-05-08' => '0.0000',
                    '2023-05-09' => '5.6600',
                    '2023-05-10' => '0.6700',
                    '2023-05-11' => '1.2300',
                    '2023-05-12' => '0.0000',
                    '2023-05-15' => '0.0000',
                    '2023-05-16' => '0.0000',
                    '2023-05-17' => '0.0000',
                    '2023-05-18' => '1.2000',
                    '2023-05-19' => '0.0000',
                    '2023-05-22' => '0.0000',
                    '2023-05-23' => '0.0000',
                    '2023-05-24' => '0.0000',
                    '2023-05-25' => '2.1000',
                    '2023-05-26' => '3.6200',
                    '2023-05-30' => '1.5400',
                    '2023-05-31' => '0.0000',
                    '2023-06-01' => '0.5800',
                    '2023-06-02' => '0.0000',
                    '2023-06-05' => '0.0000',
                    '2023-06-06' => '0.0000',
                    '2023-06-07' => '0.0000',
                    '2023-06-08' => '0.9400',
                    '2023-06-09' => '0.0000',
                    '2023-06-12' => '0.0950',
                    '2023-06-13' => '0.0000',
                    '2023-06-14' => '0.0000',
                    '2023-06-15' => '0.4000',
                    '2023-06-16' => '0.0000',
                ],
            ],
        ];
    }
}
